{"ast":null,"code":"import _slicedToArray from \"/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/src/HeaderClient.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Style/HeaderClient.css';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { auth, provider } from './firebase';\nimport axios from './axios';\n\nfunction HeaderClient() {\n  var number = 0;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      users = _useState4[0],\n      setUsers = _useState4[1];\n\n  var header__itemStyle = {\n    position: 'relative',\n    top: '-1.5rem',\n    left: '0.01rem',\n    borderRadius: '50%'\n  };\n\n  var getAllClients = function getAllClients() {\n    axios.get('get/allClients').then(function (res) {\n      setUsers(res.data);\n    });\n  };\n\n  useEffect(function () {\n    getAllClients();\n  }, []);\n  console.log(users);\n\n  var signIn = function signIn() {\n    auth.signInWithPopup(provider).catch(function (error) {\n      return alert(error.message);\n    });\n    auth.onAuthStateChanged(function (authUser) {\n      if (authUser) {\n        setName(authUser.displayName);\n        var foundName = users.find(function (name) {\n          return name === auauthUser.displayName;\n        });\n        axios.post('/new/client', {\n          clientName: authUser.displayName,\n          clientMail: authUser.email,\n          isConnected: true\n        });\n      }\n    });\n  };\n\n  var signOut = function signOut() {\n    axios.post(\"/update/clienIsConnected?clientName=\".concat(name), {\n      isConnected: false\n    });\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"a3mil recherche\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Welcome \", name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \"bye :( \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__right__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ShoppingCartIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"header__item\",\n    style: number === 0 ? {\n      display: 'none'\n    } : header__itemStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, number)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__right__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorderIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"header__item\",\n    style: number === 0 ? {\n      display: 'none'\n    } : header__itemStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, number))));\n}\n\nexport default HeaderClient;","map":{"version":3,"sources":["/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/src/HeaderClient.js"],"names":["React","useEffect","useState","SearchIcon","ShoppingCartIcon","FavoriteBorderIcon","auth","provider","axios","HeaderClient","number","name","setName","users","setUsers","header__itemStyle","position","top","left","borderRadius","getAllClients","get","then","res","data","console","log","signIn","signInWithPopup","catch","error","alert","message","onAuthStateChanged","authUser","displayName","foundName","find","auauthUser","post","clientName","clientMail","email","isConnected","signOut","window","location","reload","display"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,0BAAP;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,YAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAGA,SAASC,YAAT,GAAwB;AAEpB,MAAMC,MAAM,GAAG,CAAf;;AAFoB,kBAGIR,QAAQ,CAAC,EAAD,CAHZ;AAAA;AAAA,MAGbS,IAHa;AAAA,MAGPC,OAHO;;AAAA,mBAIOV,QAAQ,CAAC,EAAD,CAJf;AAAA;AAAA,MAIbW,KAJa;AAAA,MAINC,QAJM;;AAMpB,MAAMC,iBAAiB,GAAI;AAEvBC,IAAAA,QAAQ,EAAE,UAFa;AAGvBC,IAAAA,GAAG,EAAE,SAHkB;AAIvBC,IAAAA,IAAI,EAAE,SAJiB;AAKvBC,IAAAA,YAAY,EAAE;AALS,GAA3B;;AASA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAiC,UAACC,GAAD,EAAS;AACtCT,MAAAA,QAAQ,CAACS,GAAG,CAACC,IAAL,CAAR;AACH,KAFD;AAGH,GAJD;;AAMAvB,EAAAA,SAAS,CAAC,YAAM;AACZmB,IAAAA,aAAa;AAChB,GAFQ,EAEN,EAFM,CAAT;AAIAK,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;;AAEA,MAAMc,MAAM,GAAG,SAATA,MAAS,GAAM;AAEjBrB,IAAAA,IAAI,CAACsB,eAAL,CAAqBrB,QAArB,EACCsB,KADD,CACO,UAACC,KAAD;AAAA,aAAWC,KAAK,CAACD,KAAK,CAACE,OAAP,CAAhB;AAAA,KADP;AAIA1B,IAAAA,IAAI,CAAC2B,kBAAL,CAAwB,UAAAC,QAAQ,EAAI;AAEhC,UAAGA,QAAH,EAAa;AAEbtB,QAAAA,OAAO,CAACsB,QAAQ,CAACC,WAAV,CAAP;AAEA,YAAMC,SAAS,GAAGvB,KAAK,CAACwB,IAAN,CAAY,UAAA1B,IAAI;AAAA,iBAAIA,IAAI,KAAK2B,UAAU,CAACH,WAAxB;AAAA,SAAhB,CAAlB;AAEA3B,QAAAA,KAAK,CAAC+B,IAAN,CAAW,aAAX,EAA0B;AAEtBC,UAAAA,UAAU,EAAEN,QAAQ,CAACC,WAFC;AAGtBM,UAAAA,UAAU,EAAEP,QAAQ,CAACQ,KAHC;AAItBC,UAAAA,WAAW,EAAE;AAJS,SAA1B;AAOC;AACJ,KAhBD;AAiBH,GAvBD;;AA2BA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAElBpC,IAAAA,KAAK,CAAC+B,IAAN,+CAAkD5B,IAAlD,GAA0D;AACtDgC,MAAAA,WAAW,EAAE;AADyC,KAA1D;AAIAE,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAPD;;AASA,sBAEI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII;AAAO,IAAA,WAAW,EAAC,iBAAnB;AAAqC,IAAA,IAAI,EAAC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CAFJ,eAUI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAapC,IAAb,CAHR,CAFJ,eAUI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHR,CAVJ,CAVJ,eA8BI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI;AAAM,IAAA,SAAS,EAAC,cAAhB;AAA+B,IAAA,KAAK,EAAGD,MAAM,KAAK,CAAX,GAAe;AAAEsC,MAAAA,OAAO,EAAE;AAAX,KAAf,GAAoCjC,iBAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,MADL,CAHJ,CAFJ,eAWI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,kBAAD;AAAoB,IAAA,QAAQ,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAM,IAAA,SAAS,EAAC,cAAhB;AAA+B,IAAA,KAAK,EAAGA,MAAM,KAAK,CAAX,GAAe;AAAEsC,MAAAA,OAAO,EAAE;AAAX,KAAf,GAAoCjC,iBAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,MADL,CAHJ,CAXJ,CA9BJ,CAFJ;AAyDH;;AAED,eAAeD,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './Style/HeaderClient.css'\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { auth, provider } from './firebase'\nimport axios from './axios'\n\n\nfunction HeaderClient() {\n    \n    const number = 0;\n    const [name, setName] = useState('')\n    const [users, setUsers ] = useState([])\n\n    const header__itemStyle  = {\n\n        position: 'relative',\n        top: '-1.5rem',\n        left: '0.01rem',\n        borderRadius: '50%'\n        \n    };\n\n    const getAllClients = () => {\n        axios.get('get/allClients').then((res) => {\n            setUsers(res.data)\n        })\n    }\n\n    useEffect(() => {\n        getAllClients()\n    }, [])\n\n    console.log(users)\n\n    const signIn = () => {\n        \n        auth.signInWithPopup(provider)\n        .catch((error) => alert(error.message));\n\n\n        auth.onAuthStateChanged(authUser => {\n          \n            if(authUser) {\n\n            setName(authUser.displayName)\n\n            const foundName = users.find( name => name === auauthUser.displayName );\n\n            axios.post('/new/client', {\n                \n                clientName: authUser.displayName,\n                clientMail: authUser.email,\n                isConnected: true\n            })\n\n            }\n        })\n    }\n\n    \n    \n    const signOut = () => {\n        \n        axios.post(`/update/clienIsConnected?clientName=${name}`, {\n            isConnected: false\n        })\n\n        window.location.reload();\n    }\n    \n    return (\n\n        <div className='header__main'>\n\n            <div className='header__left'>\n\n                \n                <SearchIcon />\n                <input placeholder='a3mil recherche' type='text'/>\n            \n            </div>\n\n            <div className='header__middle'>\n            \n                <div className='header__option'>\n                        \n                    \n                        <h1>Welcome {name}</h1>\n                    \n                    \n                </div>\n\n                <div className='header__option'>\n                        \n                    \n                        <h3>bye :( </h3>\n                    \n                    \n                </div>\n                \n            </div>\n\n            <div className='header__right'>\n\n                <div className='header__right__option'>\n                    <ShoppingCartIcon fontSize='large'/>\n\n                    <span className='header__item' style={ number === 0 ? { display: 'none' }: header__itemStyle }>\n                        {number}\n                    </span>\n\n                </div>\n                \n                <div className='header__right__option'>\n                    \n                    <FavoriteBorderIcon fontSize='large'/>\n                    <span className='header__item' style={ number === 0 ? { display: 'none' }: header__itemStyle }>\n                        {number}\n                    </span>\n                </div>\n                \n            \n            </div>\n\n        </div>\n\n    )\n}\n\nexport default HeaderClient"]},"metadata":{},"sourceType":"module"}