{"ast":null,"code":"import _slicedToArray from \"/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/src/Description.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Style/Description.css';\nimport ShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport axios from './axios';\n\nfunction Description(_ref) {\n  var src = _ref.src,\n      summary = _ref.summary,\n      quantity = _ref.quantity,\n      price = _ref.price,\n      author = _ref.author,\n      genre = _ref.genre,\n      numPages = _ref.numPages,\n      bookName = _ref.bookName;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var addToCart = function addToCart() {\n    var findBookName = function findBookName(find) {\n      return find.bookName === bookName;\n    };\n\n    var found = user.cart.some(findBookName);\n    console.log(found);\n\n    if (found) {\n      alert('Already in cart');\n    } else {\n      axios.post(\"/update/clientCart?clientName=\".concat(user.clientName), {\n        cart: {\n          bookName: bookName,\n          quantity: 1\n        }\n      }).then(function () {\n        alert('Added to cart');\n      });\n    }\n  };\n\n  var addToFavorites = function addToFavorites() {\n    var findBookName = function findBookName(find) {\n      return find.bookName === bookName;\n    };\n\n    var found = user.favorites.some(findBookName);\n    console.log(found);\n\n    if (found) {\n      alert('Already in Favorit');\n    } else {\n      axios.post(\"/update/clientFavorites?clientName=\".concat(user.clientName), {\n        favorites: {\n          bookName: bookName\n        }\n      }).then(function () {\n        alert(\"Added to Favorit list\");\n      });\n    }\n  };\n\n  var getClientConnected = function getClientConnected() {\n    axios.get('/get/clientConnected?isConnected=true').then(function (res) {\n      setUser(res.data);\n    });\n  };\n\n  useEffect(function () {\n    getClientConnected();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: src,\n    alt: \"book cover\",\n    width: \"400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Summary\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, summary)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__right__inofs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__infos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, author)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__infos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, \"Genre\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, genre)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__infos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"N\\xB0 of pages\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, numPages)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__infos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, price + ' DT')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__infos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, quantity))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description__right__icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right__icon\",\n    onClick: addToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ShoppingCartIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right__icon\",\n    onClick: addToFavorites,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorderIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default Description;","map":{"version":3,"sources":["/media/amine/HDD1/Kraya/2DNI/TP/S2/RFID/E-Library/Frontend/src/Description.js"],"names":["React","useEffect","useState","ShoppingCartIcon","FavoriteBorderIcon","axios","Description","src","summary","quantity","price","author","genre","numPages","bookName","user","setUser","addToCart","findBookName","find","found","cart","some","console","log","alert","post","clientName","then","addToFavorites","favorites","getClientConnected","get","res","data"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }  from 'react'\nimport './Style/Description.css'\nimport ShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport axios from './axios'\n\n\nfunction Description({ src, summary, quantity, price, author, genre, numPages, bookName }) {\n\n\n    const [user, setUser] = useState([]);\n\n    const addToCart = () => {\n\n        const findBookName = (find) => find.bookName === bookName;\n            \n        \n        const found = user.cart.some(findBookName);\n        \n        console.log(found)\n\n        if(found) {\n            \n            alert('Already in cart')\n\n        \n        } else {\n            \n            axios.post(`/update/clientCart?clientName=${user.clientName}`, {\n                cart: {\n                    bookName: bookName,\n                    quantity: 1\n                }\n            }).then(()=> {\n                alert('Added to cart')\n            })\n        }\n                   \n    }\n\n    const addToFavorites= () => {\n\n        const findBookName = (find) => find.bookName === bookName;\n            \n        \n        const found = user.favorites.some(findBookName);\n        \n        console.log(found)\n\n        if(found) {\n            \n            alert('Already in Favorit')\n\n        \n        } else {\n            \n            axios.post(`/update/clientFavorites?clientName=${user.clientName}`, {\n                favorites: {\n                    bookName: bookName\n                }\n            }).then(()=> {\n                alert(\"Added to Favorit list\")\n            })\n        }\n                   \n    }\n\n    const getClientConnected = () => {\n        \n        axios.get('/get/clientConnected?isConnected=true').then((res) => {\n            setUser(res.data)\n        })\n    }\n\n    useEffect (() => {\n        getClientConnected();\n    }, [])\n\n    return (\n\n        <div className=\"description__main\">\n            \n            <div className='description__image'>\n\n                <img \n                    src={src}\n                    alt='book cover'\n                    width='400'/>\n\n            </div>\n            \n            <div className='description__right'>\n\n                <div className='description__summary'>\n\n                    <h1>Summary</h1>\n                    <p>{summary}</p>\n                    \n\n                </div>\n\n                <div className='description__right__inofs'>\n\n                    <div className='description__infos'>\n\n                        <h2>Author</h2>\n                        <h3>{author}</h3>\n\n                    </div>\n\n                    <div className='description__infos'>\n\n                        <h2>Genre</h2>\n                        <h3>{genre}</h3>\n\n                        </div>\n\n                        <div className='description__infos'>\n\n                        <h2>NÂ° of pages</h2>\n                        <h3>{numPages}</h3>\n\n                    </div>\n                    \n                    <div className='description__infos'>\n\n                        <h2>Price</h2>\n                        <h3>{price + ' DT'}</h3>\n\n                    </div>\n\n                    <div className='description__infos'>\n\n                        <h2>Quantity</h2>\n                        <h3>{quantity}</h3>\n\n                    </div>\n\n                </div>\n               \n               <div className='description__right__icons'>\n\n                    <div className='right__icon' onClick={addToCart}>\n                        <ShoppingCartIcon fontSize='large'/>\n                    </div>\n                    \n                    <div className='right__icon' onClick={addToFavorites}>\n                        <FavoriteBorderIcon fontSize='large'/>\n                    </div>\n                    \n               </div>\n                \n            </div>\n            \n        </div>\n    )\n}\n\nexport default Description"]},"metadata":{},"sourceType":"module"}